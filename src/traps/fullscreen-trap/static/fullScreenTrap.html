<!DOCTYPE html>
<html>

<head>
	<meta charset='utf-8'>
	<meta http-equiv='X-UA-Compatible' content='IE=edge'>
	<title>Fullscreen Trap 1</title>
	<meta name='viewport' content='width=device-width, initial-scale=1'>
	<style>
		#main {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background-color: gray;
		}
	</style>
</head>

<body>
	<div id="main">
		This page will go to fullscreen mode as much as possible.
	</div>
	<script src="index.js"></script>
</body>

<script>
	function fullscreen(event) {
	  if (event && event instanceof Event) event.preventDefault();
	  console.debug('requesting fullscreen and pointer lock', { event });
	  document.body.requestFullscreen();
	  // document.body.requestPointerLock();
	}

	function registerEventListeners() {
	  document.addEventListener('contextmenu', fullscreen);
	  document.addEventListener('keydown', fullscreen);
	  document.addEventListener('mousedown', fullscreen);
	  document.addEventListener('mouseup', fullscreen);
	  document.body.addEventListener('load', fullscreen);
	  document.body.addEventListener('focus', fullscreen);
	  document.body.addEventListener('fullscreenchange', fullscreen);
	  document.body.addEventListener('resize', fullscreen);
	  document.body.addEventListener('scroll', fullscreen);
	  document.body.addEventListener('mouseenter', fullscreen);
	}

	// Try to enter fullscreen on page load (most likely blocked)
	fullscreen();

	registerEventListeners();
</script>

</html>